<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta http-equiv="Content-Language" content="zh-cn">
    <meta charset="utf-8">
    
    
    
    <title>Zy&#39;blog</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    
    <meta name="theme-color" content="#77AAFF">
    
    
    <meta name="keywords" content>
    
    

    

    <!-- Baidu Push -->
<script>
	(function(){
		var bp = document.createElement('script');
		var curProtocol = window.location.protocol.split(':')[0];
		if (curProtocol === 'https') {
			bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
		}
		else {
			bp.src = 'http://push.zhanzhang.baidu.com/push.js';
		}
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(bp, s);
	})();

	var _hmt = _hmt || [];
</script>



    
    <meta property="og:type" content="website">
<meta property="og:title" content="Zy&#39;blog">
<meta property="og:url" content="https://www.miaomiaomiao.info/index.html">
<meta property="og:site_name" content="Zy&#39;blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Zy&#39;blog">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link id="style" rel="stylesheet" href="/css/style.css?v=3.0">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    
            
</head>

<body>
    <div id="loading" class="active"></div>
    <aside id="menu">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg" alt="avatar">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname" id="name">zeng yang</h5>
          
            <div id="yiyanmotto" class="motto">&nbsp;</div>
          
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
              <li class="waves-block waves-effect active">
                  <a href="/">
                    <i class="icon icon-lg icon-home"></i>
                    <span>主 页</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
              <li class="waves-block waves-effect">
                  <a href="/archives">
                    <i class="icon icon-lg icon-archives"></i>
                    <span>归 档</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
              <li class="waves-block waves-effect">
                  <a href="/categories">
                    <i class="icon icon-lg icon-th-list"></i>
                    <span>分 类</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
              <li class="waves-block waves-effect">
                  <a href="/tags">
                    <i class="icon icon-lg icon-tags"></i>
                    <span>标 签</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
              <li class="waves-block waves-effect">
                  <a href="/about">
                    <i class="icon icon-lg icon-smile-o"></i>
                    <span>关 于</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
      <div class="nav2">
          
              <a class="nav2item" data-title="Email" href="mailto:1755811882@qq.com" target="_parent" title="Email">
                <i class="icon icon-lg icon-envelope-o envelope-o"></i>
              </a>
          
              <a class="nav2item" data-title="Github" href="https://github.com/tomotoes" target="_blank" title="Github">
                <i class="icon icon-lg icon-github github"></i>
              </a>
          
              <a class="nav2item" data-title="微博" href="https://weibo.com/u/6179399347" target="_blank" title="微博">
                <i class="icon icon-lg icon-weibo weibo"></i>
              </a>
          

            </div>
        
      </ul>
        
    </div>
  </div>
 
</aside>


    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Zy&#39;blog</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Búsqueda">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        <a href="../../atom.xml" target="_blank" class="header-icon waves-effect waves-circle waves-light" id="Rss">
            <i class="icon icon-lg icon-rss"></i>
        </a>
    </div>
</header>
<header class="content-header index-header">
    
    
    <div class="container fade-scale">
        <div id="myheader">
            <h1 class="title">
                 
                    Zy&#39;blog
                
            </h1>
            <h5 class="subtitle">
                
                    在Web全栈的道路上努力前行
                
            </h5>
        </div>
    </div>

</header>

<div class="container body-wrap">
    <ul class="post-list">
    
        <li class="post-list-item fade">
            <article id="post-knn" class="article-card article-type-post" itemprop="blogPost">

    


  
    <h3 class="post-title" itemprop="name">
      <a href="/knn/">knn算法</a>
    </h3>
  




     <div class="post-meta">
        <time class="post-time" title="2019-03-29 15:31:03" datetime="2019-03-29T07:31:03.000Z" itemprop="datePublished">2019-03-29</time>

    </div>

    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h1 id="Knn算法"><a href="#Knn算法" class="headerlink" title="Knn算法"></a>Knn算法</h1><h2 id="算法概述"><a href="#算法概述" class="headerlink" title="算法概述"></a>算法概述</h2><p>对于一个未知分类的点，在n维空间中与其他所有点计算其欧式距离，取距离最近的k个点（k值自取），在这k个点中选取最多标签的那个分类作为这个未知分类的点的标签。</p>
<h2 id="需要注意的点"><a href="#需要注意的点" class="headerlink" title="需要注意的点"></a>需要注意的点</h2><ol>
<li>怎么度量邻近度</li>
</ol>
<p>我们首先想到的肯定是点和点之间距离。但除了距离，其实我们也可以考虑两个点之间的相似度，越相似，就代表两个点距离越近。同理，我们也可以考虑相异度，越相异，就代表两个点距离越远。其实距离的度量就是相异性度量的其中一种。一般采取计算欧式距离。</p>
<ol start="2">
<li>k值怎么取</li>
</ol>
<p>k值的选取关乎整个分类器的性能。如果k值取得过小，容易受噪点的影响而导致分类错误。而k值取得过大，又容易分类不清，混淆了其他类别的点。</p>
<ol start="3">
<li>数据的预处理</li>
</ol>
<p>拿到数据，我们不能直接就开始套用算法，而是需要先规范数据。例如我们想通过一个人的年龄和工资来进行分类，很明显工资的数值远大于年龄，如果我们不对它进行一个统一的规范，必然工资这个特征会左右我们的分类，而让年龄这个特征无效化，这不是我们想看到的。</p>
<h2 id="存在的问题"><a href="#存在的问题" class="headerlink" title="存在的问题"></a>存在的问题</h2><p>因为要扫描全部训练样本并计算距离，所以开销大</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">## python代码实现</span></span><br><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="comment">#########################################</span></span><br><span class="line"><span class="comment"># kNN: k Nearest Neighbors</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  输入:      newInput:  (1xN)的待分类向量</span></span><br><span class="line"><span class="comment">#             dataSet:   (NxM)的训练数据集</span></span><br><span class="line"><span class="comment">#             labels:     训练数据集的类别标签向量</span></span><br><span class="line"><span class="comment">#             k:         近邻数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出:     可能性最大的分类标签</span></span><br><span class="line"><span class="comment">#########################################</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> operator</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个数据集，包含2个类别共4个样本</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">createDataSet</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 生成一个矩阵，每行表示一个样本</span></span><br><span class="line">    group = array([[<span class="number">1.0</span>, <span class="number">0.9</span>], [<span class="number">1.0</span>, <span class="number">1.0</span>], [<span class="number">0.1</span>, <span class="number">0.2</span>], [<span class="number">0.0</span>, <span class="number">0.1</span>]])</span><br><span class="line">    <span class="comment"># 4个样本分别所属的类别</span></span><br><span class="line">    labels = [<span class="string">'A'</span>, <span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'B'</span>]</span><br><span class="line">    <span class="keyword">return</span> group, labels</span><br><span class="line"></span><br><span class="line"><span class="comment"># KNN分类算法函数定义</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kNNClassify</span><span class="params">(newInput, dataSet, labels, k)</span>:</span></span><br><span class="line">    numSamples = dataSet.shape[<span class="number">0</span>]   <span class="comment"># shape[0]表示行数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># # step 1: 计算距离[</span></span><br><span class="line">    <span class="comment"># 假如：</span></span><br><span class="line">    <span class="comment"># Newinput：[1,0,2]</span></span><br><span class="line">    <span class="comment"># Dataset:</span></span><br><span class="line">    <span class="comment"># [1,0,1]</span></span><br><span class="line">    <span class="comment"># [2,1,3]</span></span><br><span class="line">    <span class="comment"># [1,0,2]</span></span><br><span class="line">    <span class="comment"># 计算过程即为：</span></span><br><span class="line">    <span class="comment"># 1、求差</span></span><br><span class="line">    <span class="comment"># [1,0,1]       [1,0,2]</span></span><br><span class="line">    <span class="comment"># [2,1,3]   --   [1,0,2]</span></span><br><span class="line">    <span class="comment"># [1,0,2]       [1,0,2]</span></span><br><span class="line">    <span class="comment"># =</span></span><br><span class="line">    <span class="comment"># [0,0,-1]</span></span><br><span class="line">    <span class="comment"># [1,1,1]</span></span><br><span class="line">    <span class="comment"># [0,0,-1]</span></span><br><span class="line">    <span class="comment"># 2、对差值平方</span></span><br><span class="line">    <span class="comment"># [0,0,1]</span></span><br><span class="line">    <span class="comment"># [1,1,1]</span></span><br><span class="line">    <span class="comment"># [0,0,1]</span></span><br><span class="line">    <span class="comment"># 3、将平方后的差值累加</span></span><br><span class="line">    <span class="comment"># [1]</span></span><br><span class="line">    <span class="comment"># [3]</span></span><br><span class="line">    <span class="comment"># [1]</span></span><br><span class="line">    <span class="comment"># 4、将上一步骤的值求开方，即得距离</span></span><br><span class="line">    <span class="comment"># [1]</span></span><br><span class="line">    <span class="comment"># [1.73]</span></span><br><span class="line">    <span class="comment"># [1]</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># ]</span></span><br><span class="line">    <span class="comment"># tile(A, reps): 构造一个矩阵，通过A重复reps次得到</span></span><br><span class="line">    <span class="comment"># the following copy numSamples rows for dataSet</span></span><br><span class="line">    diff = tile(newInput, (numSamples, <span class="number">1</span>)) - dataSet  <span class="comment"># 按元素求差值</span></span><br><span class="line">    squaredDiff = diff ** <span class="number">2</span>  <span class="comment"># 将差值平方</span></span><br><span class="line">    squaredDist = sum(squaredDiff, axis = <span class="number">1</span>)   <span class="comment"># 按行累加</span></span><br><span class="line">    distance = squaredDist ** <span class="number">0.5</span>  <span class="comment"># 将差值平方和求开方，即得距离</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># # step 2: 对距离排序</span></span><br><span class="line">    <span class="comment"># argsort() 返回排序后的索引值</span></span><br><span class="line">    sortedDistIndices = argsort(distance)</span><br><span class="line">    classCount = &#123;&#125; <span class="comment"># define a dictionary (can be append element)</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> xrange(k):</span><br><span class="line">        <span class="comment"># # step 3: 选择k个最近邻</span></span><br><span class="line">        voteLabel = labels[sortedDistIndices[i]]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># # step 4: 计算k个最近邻中各类别出现的次数</span></span><br><span class="line">        <span class="comment"># when the key voteLabel is not in dictionary classCount, get()</span></span><br><span class="line">        <span class="comment"># will return 0</span></span><br><span class="line">        classCount[voteLabel] = classCount.get(voteLabel, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># # step 5: 返回出现次数最多的类别标签</span></span><br><span class="line">    maxCount = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> key, value <span class="keyword">in</span> classCount.items():</span><br><span class="line">        <span class="keyword">if</span> value &gt; maxCount:</span><br><span class="line">            maxCount = value</span><br><span class="line">            maxIndex = key</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> maxIndex</span><br></pre></td></tr></table></figure>
<p>测试文件：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> KNN</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *</span><br><span class="line"><span class="comment"># 生成数据集和类别标签</span></span><br><span class="line">dataSet, labels = KNN.createDataSet()</span><br><span class="line"><span class="comment"># 定义一个未知类别的数据</span></span><br><span class="line">testX = array([<span class="number">1.2</span>, <span class="number">1.0</span>])</span><br><span class="line">k = <span class="number">3</span></span><br><span class="line"><span class="comment"># 调用分类函数对未知数据分类</span></span><br><span class="line">outputLabel = KNN.kNNClassify(testX, dataSet, labels, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"Your input is:"</span>, testX, <span class="string">"and classified to class: "</span>, outputLabel</span><br><span class="line"></span><br><span class="line">testX = array([<span class="number">0.1</span>, <span class="number">0.3</span>])</span><br><span class="line">outputLabel = KNN.kNNClassify(testX, dataSet, labels, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"Your input is:"</span>, testX, <span class="string">"and classified to class: "</span>, outputLabel</span><br></pre></td></tr></table></figure>
    
        <div class="post-more-div">
            <a href="/knn/" class="post-more waves-button">
                Leer más
            </a>
        </div>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/knn/">knn</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习/">学习</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/机器学习/">机器学习</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-springboot图书馆前" class="article-card article-type-post" itemprop="blogPost">

    


  
    <h3 class="post-title" itemprop="name">
      <a href="/springboot图书馆前/">web图书馆管理系统前端</a>
    </h3>
  




     <div class="post-meta">
        <time class="post-time" title="2019-03-27 22:01:03" datetime="2019-03-27T14:01:03.000Z" itemprop="datePublished">2019-03-27</time>

    </div>

    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h1 id="本次图书馆管理系统开发过程："><a href="#本次图书馆管理系统开发过程：" class="headerlink" title="本次图书馆管理系统开发过程："></a>本次图书馆管理系统开发过程：</h1><h2 id="分析表关系"><a href="#分析表关系" class="headerlink" title="分析表关系"></a>分析表关系</h2><p>表关系比较简单，图书与图书分类为多对一关系，借阅书目与用户为多对一关系，借阅书目与书籍为多对一关系（实际上并没有用到这层关系，因为并没有做前台的借书功能(′Д`)）<br>sql语句贴出一个借阅书目的，数据库用的是MySQL：</p>
<pre><code>create table orderbook(
   id int(11) not null auto_increment,
   name varchar(255) default null,
   uid int(11) default null,
   bid int(11) default null,
   borrowdate timestamp default CURRENT_TIMESTAMP,
   constraint pk_orderbook_user foreign key (uid) references user (id),
   constraint pk_orderbook_book foreign key (bid) references book (id),
   primary key(id)
)engine=innodb default charset=utf8;
</code></pre><p>建立之后如图：<br><img src="https://i.loli.net/2019/03/27/5c9afbe2e01b4.png" alt="TIM截图20190325211330.png"></p>
<h2 id="配置springboot配置文件"><a href="#配置springboot配置文件" class="headerlink" title="配置springboot配置文件"></a>配置springboot配置文件</h2><p>springboot的配置文件主要用来写入数据库驱动用户名密码和其他一些配置  </p>
<pre><code>#database
spring.datasource.url=jdbc:mysql://127.0.0.1:3306/library_manage?characterEncoding=UTF-8
spring.datasource.username=root
spring.datasource.password=admin
spring.datasource.driver-class-name=com.mysql.jdbc.Driver
spring.jpa.hibernate.ddl-auto = none

#thymeleaf
spring.thymeleaf.mode=LEGACYHTML5
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.content-type=text/html
spring.thymeleaf.cache=false

#context,页面地址访问就以localhost:8080/开头，
#server.context-path=/library,则以localhost:8080/library开头
server.context-path=/

#设置上传文件大小，默认只有1 m
spring.http.multipart.maxFileSize=100Mb
spring.http.multipart.maxRequestSize=100Mb

#jpa对实体类的默认字段会把驼峰命名的属性，转换为字段名的时候自动加上下划线。 这个配置的作用就是去掉下划线
#比如属性名称是 createDate, jpa 默认转换为字段名 create_Date。 有了这个配置之后，就会转换为同名字段 createDate
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

#显示 hibernate运行的 sql 语句
spring.jpa.show-sql=true
</code></pre><h2 id="前端部分"><a href="#前端部分" class="headerlink" title="前端部分"></a>前端部分</h2><p>前端部分采用的是thymeleaf模板引擎和vue.js渲染页面数据和绑定数据（vue这里仅仅是用到了这两个功能，没有用到脚手架），前端样式采用的bootstrap。</p>
<h3 id="thymeleaf将网页模块化"><a href="#thymeleaf将网页模块化" class="headerlink" title="thymeleaf将网页模块化"></a>thymeleaf将网页模块化</h3><p>如图，页面目录如下：<br><img src="https://i.loli.net/2019/03/27/5c9afcca67db7.png" alt="TIM截图20190325213233.png"></p>
<p>admin目录下的页面分别：</p>
<ul>
<li>listCategory.html: 显示所有书籍分类的列表  </li>
<li>editCategory.html: 编辑书籍名字的页面</li>
<li>listBook.html: 显示分类下书籍列表的页面</li>
<li>listOrderBook.html: 显示每个用户下借阅书籍列表的页面</li>
<li>listOrderAll.html: 显示所有借阅的书籍的页面</li>
<li>listUser.html：显示所有用户列表的页面</li>
<li>login.html: 登录页面</li>
</ul>
<hr>
<p>include/admin目录下的页面分别为：</p>
<ul>
<li>adminHeader.html: 将所有前端页面中用到的一些函数统一写到了这个页面里</li>
<li>adminNavigator.html 基本每个页面都有的导航栏放在这个页面里</li>
<li>adminPage.html 分页跳转方法写在这个页面里</li>
<li>adminFooter.html 页脚</li>
</ul>
<p><strong>这样可以使得将页面中通用的部分单独拿出来，通过thymeleaf进行镶嵌</strong></p>
<hr>
<p>利用thymeleaf将include/admin中的页面嵌入到admin里的页面中，如下：  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span> <span class="attr">th:include</span>=<span class="string">"include/admin/adminHeader::html('分类管理')"</span> &gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span>  //在head中插入adminHeader.html</span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"include/admin/adminNavigator::html"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>  //在body的一开头插入导航栏adminNavigator.html</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"workingplace"</span>&gt;</span></span><br><span class="line">    	此处省略一万行</span><br><span class="line">    	<span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"include/admin/adminPage::html"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> //插入分页</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"include/admin/adminFooter::html"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>adminHeader内包含所需要的外部js文件已经css文件，代码如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">th:fragment</span>=<span class="string">"html(title)"</span> &gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery/2.0.0/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"css/bootstrap/3.3.6/bootstrap.min.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/bootstrap/3.3.6/bootstrap.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/vue/2.5.16/vue.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/axios/0.17.1/axios.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/moment/2.22.2/moment.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> <span class="comment">&lt;!-- vue.js 格式化日期用的 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"css/back/style.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">	<span class="comment">//判断是否为空</span></span></span><br><span class="line"><span class="actionscript">	<span class="function"><span class="keyword">function</span> <span class="title">checkEmpty</span><span class="params">(value,text)</span></span>&#123;</span></span><br><span class="line"><span class="undefined">		</span></span><br><span class="line"><span class="actionscript">		<span class="keyword">if</span>(<span class="literal">null</span>==value || value.length==<span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="actionscript">			alert(text+ <span class="string">"不能为空"</span>);</span></span><br><span class="line"><span class="actionscript">			<span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="actionscript">		<span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">	&#125;	</span></span><br><span class="line"><span class="undefined">	...</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//此处省略</span></span></span><br><span class="line"><span class="undefined">    ...</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>	</span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span>&gt;</span> 	</span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span> <span class="attr">th:text</span>=<span class="string">"$&#123;title&#125;"</span> &gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>template标签配合<strong>th:include</strong>可以实现加载template模板中的内容，template标签加载后自动忽略。<br>而<strong>th:replace</strong>则是配合div标签自动将当前的div<strong>替换</strong>为<strong>th:replace</strong>的div标签  </p>
<hr>
<p>adminNavigator.html的代码  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"navitagorDiv"</span> <span class="attr">th:fragment</span>=<span class="string">"html"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"navbar navbar-default navbar-fixed-top navbar-inverse"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container-fluid"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"navbar-header"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">img</span> <span class="attr">style</span>=<span class="string">"margin-left:10px;margin-right:0px"</span> <span class="attr">class</span>=<span class="string">"pull-left navbar-brand"</span> <span class="attr">src</span>=<span class="string">"img/site/library.jpg"</span> <span class="attr">height</span>=<span class="string">"45px"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span> <span class="attr">href</span>=<span class="string">"/admin_login"</span>&gt;</span>图书馆管理后台<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span> <span class="attr">href</span>=<span class="string">"admin_category_list"</span>&gt;</span>分类管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span> <span class="attr">href</span>=<span class="string">"admin_user_list"</span>&gt;</span>用户管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span> <span class="attr">href</span>=<span class="string">"/admin_orderall_list"</span>&gt;</span>借阅管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>分类列表中的代码片段：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">th:include</span>=<span class="string">"include/admin/adminHeader::html('分类管理')"</span> &gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"include/admin/adminNavigator::html"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/03/27/5c9afcca699bb.png" alt="TIM截图20190326095920.png" title>
                </div>
                <div class="image-caption">TIM截图20190326095920.png</div>
            </figure> 
<p>如上，通过镶嵌，这样每个页面就有一个导航栏  </p>
<h3 id="vue进行页面数据渲染"><a href="#vue进行页面数据渲染" class="headerlink" title="vue进行页面数据渲染"></a>vue进行页面数据渲染</h3><p>以listCategory.hmtl书籍分类列表页面为例：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/03/27/5c9afccaa0a74.png" alt="TIM截图20190326102748.png" title>
                </div>
                <div class="image-caption">TIM截图20190326102748.png</div>
            </figure></p>
<p>上图部分html代码如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"workingArea"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"listDataTableDiv"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"table table-striped table-bordered table-hover  table-condensed"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">"success"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>ID<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>分类名称<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>书籍管理<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>编辑<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">"bean in beans "</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                    </span><br><span class="line">                <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">"'admin_book_list?cid=' + bean.id "</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-shopping-cart"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">"'admin_category_edit?id=' + bean.id "</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-edit"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#nowhere"</span>  @<span class="attr">click</span>=<span class="string">"deleteBean(bean.id)"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"   glyphicon glyphicon-trash"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel-warning addDiv"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel-heading"</span>&gt;</span>新增分类<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel-body"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"addTable"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>分类名称<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span>  @<span class="attr">keyup.enter</span>=<span class="string">"add"</span> <span class="attr">v-model.trim</span>=<span class="string">"bean.name"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"form-control"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">"submitTR"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">"2"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#nowhere"</span>  @<span class="attr">click</span>=<span class="string">"add"</span> <span class="attr">class</span>=<span class="string">"btn btn-success"</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"include/admin/adminPage::html"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>由一个存放书籍列表的表格table，和一个显示添加书籍的表格组成。</p>
<hr>
<p>vue脚本部分：  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> data4Vue = &#123;</span></span><br><span class="line"><span class="actionscript">            uri:<span class="string">'categories'</span>,</span></span><br><span class="line"><span class="undefined">            pagination:&#123;&#125;,</span></span><br><span class="line"><span class="undefined">            beans: [],</span></span><br><span class="line"><span class="actionscript">            bean:&#123;id:<span class="number">0</span>,name:<span class="string">""</span>&#125;,</span></span><br><span class="line"><span class="actionscript">            file:<span class="literal">null</span>,</span></span><br><span class="line"><span class="actionscript">            keyword:<span class="string">''</span></span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        <span class="comment">//ViewModel</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> vue = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">            el: <span class="string">'#workingArea'</span>,</span></span><br><span class="line"><span class="undefined">            data: data4Vue,</span></span><br><span class="line"><span class="actionscript">            mounted:<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123; <span class="comment">//mounted　表示这个 Vue 对象加载成功了</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.list(<span class="number">0</span>);</span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            methods: &#123;</span></span><br><span class="line"><span class="actionscript">                list:<span class="function"><span class="keyword">function</span><span class="params">(start)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">var</span> url =  <span class="keyword">this</span>.uri+ <span class="string">"?start="</span>+start;</span></span><br><span class="line"><span class="actionscript">                    axios.get(url).then(<span class="function"><span class="keyword">function</span><span class="params">(response)</span> </span>&#123;</span></span><br><span class="line"><span class="undefined">                        vue.pagination = response.data;</span></span><br><span class="line"><span class="undefined">                        vue.beans = response.data.content;</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="actionscript">                listSearch:<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">var</span> url = <span class="string">"search?keyword="</span>+vue.keyword;</span></span><br><span class="line"><span class="actionscript">                    axios.post(url).then(<span class="function"><span class="keyword">function</span> <span class="params">(response)</span> </span>&#123;</span></span><br><span class="line"><span class="undefined">                        vue.beans = response.data;</span></span><br><span class="line"><span class="undefined">                    &#125;)</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="actionscript">                jump: <span class="function"><span class="keyword">function</span><span class="params">(page)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">                    jump(page,vue); <span class="comment">//定义在adminHeader.html 中</span></span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="actionscript">                jumpByNumber: <span class="function"><span class="keyword">function</span><span class="params">(start)</span></span>&#123;</span></span><br><span class="line"><span class="undefined">                    jumpByNumber(start,vue);</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="actionscript">                add: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">var</span> url = <span class="keyword">this</span>.uri;</span></span><br><span class="line"><span class="actionscript">                     axios.post(url,vue.bean).then(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="undefined">                        vue.list(0);</span></span><br><span class="line"><span class="actionscript">                        vue.bean = &#123;id:<span class="number">0</span>,name:<span class="string">''</span>,hp:<span class="string">'0'</span>&#125;;</span></span><br><span class="line"><span class="undefined">                    &#125;)</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="actionscript">                deleteBean:<span class="function"><span class="keyword">function</span> <span class="params">(id)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                  <span class="keyword">if</span>(!checkDeleteLink())</span></span><br><span class="line"><span class="actionscript">                      <span class="keyword">return</span>;</span></span><br><span class="line"><span class="actionscript">                  <span class="keyword">var</span> url = <span class="keyword">this</span>.uri+<span class="string">"/"</span>+id;</span></span><br><span class="line"><span class="actionscript">                  axios.delete(url).then(<span class="function"><span class="keyword">function</span> <span class="params">(response)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                      <span class="keyword">if</span> (<span class="number">0</span>!=response.data.length) <span class="comment">//rest规范删除数据要求要会返回空字符串（控制器中delete返回null），所以进行判断</span></span></span><br><span class="line"><span class="undefined">                          alert(response.data);</span></span><br><span class="line"><span class="actionscript">                      <span class="keyword">else</span></span></span><br><span class="line"><span class="actionscript">                          vue.list(<span class="number">0</span>); <span class="comment">//是空字符串则调第一页</span></span></span><br><span class="line"><span class="undefined">                  &#125;)</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>页面渲染流程如下： </p>
<p><img src="https://i.loli.net/2019/03/27/5c9afcca975c8.png" alt="vue渲染页面流程.png"></p>
<p>其中：</p>
<ul>
<li>$()是jquery中的用法，表示页面html文档加载完毕后自动执行里面的脚本。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(function () &#123;。。。&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>var data4Vue是vue中定义的数据变量，也可以直接写在vue对象里</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data4Vue = &#123;</span><br><span class="line">            uri:<span class="string">'categories'</span>,</span><br><span class="line">            pagination:&#123;&#125;,</span><br><span class="line">            beans: [],</span><br><span class="line">            bean:&#123;<span class="attr">id</span>:<span class="number">0</span>,<span class="attr">name</span>:<span class="string">""</span>&#125;,</span><br><span class="line">            keyword:<span class="string">''</span></span><br><span class="line">        &#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>vue里的el:#workingArea表示该vue对象是对id为workingArea的html标签区域进行数据渲染</li>
<li>mounted表示对象加载完毕时自动执行mounted里面的函数</li>
<li>methods在里面编写页面所需要的函数</li>
<li>methods里的list函数中</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list:<span class="function"><span class="keyword">function</span>(<span class="params">start</span>)</span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> url =  <span class="keyword">this</span>.uri+ <span class="string">"?start="</span>+start;</span><br><span class="line">                    axios.get(url).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">                        vue.pagination = response.data;</span><br><span class="line">                        vue.beans = response.data.content;</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;,</span><br></pre></td></tr></table></figure>
<p>   url为请求的地址，？后面为请求参数，服务器后端程序能通过注解自动识别？后的参数。<br>   axios请求函数可以是get，post，delete等依情况定，请求成功后才会执行then里面的函数。then里面函数将返回的数据赋值给vue的数据变量中，vue通过在html标签中绑定的数据变量从而将数据渲染到页面中(请求的具体流程图在之后的后端部分给出)，如下，beans变量  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">"bean in beans "</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">"'admin_book_list?cid=' + bean.id "</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-shopping-cart"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">"'admin_category_edit?id=' + bean.id "</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-edit"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#nowhere"</span>  @<span class="attr">click</span>=<span class="string">"deleteBean(bean.id)"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"   glyphicon glyphicon-trash"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>输入框等表单用v-model双向绑定，即输入的内容会绑定到v-model后的数据变量里，同时数据变量值的改变也会改变表单中的值。  </p>
<h3 id="页面样式"><a href="#页面样式" class="headerlink" title="页面样式"></a>页面样式</h3><p>样式主要采用bootstrap，在adminHeader.html引入</p>
<ul>
<li><strong>adminNavigator.html中导航栏样式</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"navbar navbar-default navbar-fixed-top navbar-inverse"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"navbar-header"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">img</span> <span class="attr">style</span>=<span class="string">"margin-left:10px;margin-right:0px"</span> <span class="attr">class</span>=<span class="string">"pull-left navbar-brand"</span> <span class="attr">src</span>=<span class="string">"img/site/library.jpg"</span> <span class="attr">height</span>=<span class="string">"45px"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span> <span class="attr">href</span>=<span class="string">"/admin_login"</span>&gt;</span>图书馆管理后台<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span> <span class="attr">href</span>=<span class="string">"admin_category_list"</span>&gt;</span>分类管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span> <span class="attr">href</span>=<span class="string">"admin_user_list"</span>&gt;</span>用户管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span> <span class="attr">href</span>=<span class="string">"/admin_orderall_list"</span>&gt;</span>借阅管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>nav标签中的属性<em>navbar navbar-default nvarbar-fixed-top navbar-inverse</em>分别就是bootstrap样式中的导航栏，导航栏默认样式，固定不随页面滑动，颜色反转（本来是白色的）  </p>
<p><img src="https://i.loli.net/2019/03/27/5c9afcca699bb.png" alt="TIM截图20190326095920.png"></p>
<hr>
<ul>
<li><strong>页面中展示数据的表格所用的样式</strong>：<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/03/27/5c9afbe31020b.png" alt="list.png" title>
                </div>
                <div class="image-caption">list.png</div>
            </figure>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"table table-striped table-bordered table-hover  table-condensed"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">"success"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>table：普通表格，table-striped：斑马线（颜色交替），table-border：列与列之间的分割线，table-hover：鼠标经过有效果，table-condensed：响应式效果，根据页面大小变换。<br>行标签中有集中颜色可选，其中success为绿色</p>
<ul>
<li><strong>添加书籍分类的面板</strong>：<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/03/27/5c9afbe2d5cb2.png" alt="面板.png" title>
                </div>
                <div class="image-caption">面板.png</div>
            </figure>
</li>
</ul>
<hr>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel-warning addDiv"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel-heading"</span>&gt;</span>新增分类<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel-body"</span>&gt;</span></span><br><span class="line">        .....</span><br><span class="line">        ...</span><br></pre></td></tr></table></figure>
<p>panel：一个面板, panel-warning：颜色警告色（黄色）<br>panel-heading：面板标题，body为面板内容<br>面板里的内容为一个2x2的table构成</p>
<ul>
<li><strong>登录页面</strong><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/03/27/5c9afbe30bcc8.png" alt="TIM截图20190326202043.png" title>
                </div>
                <div class="image-caption">TIM截图20190326202043.png</div>
            </figure>
登录页面采用bootstrap中的栅格化布局（网上物色的登录界面，在css中改了背景）。基本思想是bootstrap将页面分成了12份利用class属性col-lg-xx来配置个标签所占位置 ，如图： <figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/03/27/5c9afbe2f3afa.png" alt="TIM截图20190326204248.png" title>
                </div>
                <div class="image-caption">TIM截图20190326204248.png</div>
            </figure>
所以标题输入框以及按钮class中都设置超过6的数值就会一行的一行的排列。<br>input中的required属性表示不能为空，autofocus表示页面加载后自动获得焦点  </li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"form"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mycenter"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mysign"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-12 text-center text-info"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">                    图书馆管理系统</span><br><span class="line">                <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-11"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">"user.name"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">placeholder</span>=<span class="string">"请输入账户名"</span> <span class="attr">required</span> <span class="attr">autofocus</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-10"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-10"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">"user.passWord"</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">placeholder</span>=<span class="string">"请输入密码"</span> <span class="attr">required</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-10"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-10"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-10"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"login"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">class</span>=<span class="string">"btn btn-success col-lg-12"</span>&gt;</span></span><br><span class="line">                    登录<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="静态文件路径设置"><a href="#静态文件路径设置" class="headerlink" title="静态文件路径设置"></a>静态文件路径设置</h2><p>改写css，图片，以及前端框架js文件的路径到resource/webapp路径下，在idea中如下设置<br>setting -&gt; project structure -&gt;facets设置web resource directory<br><img src="https://i.loli.net/2019/03/27/5c9afe2639e79.png" alt="TIM截图20190326193812.png"></p>
<p>这样外部静态文件能采用如下相对路径的方式引入：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery/2.0.0/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"css/bootstrap/3.3.6/bootstrap.min.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/bootstrap/3.3.6/bootstrap.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/vue/2.5.16/vue.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/axios/0.17.1/axios.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/moment/2.22.2/moment.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> <span class="comment">&lt;!-- vue.js 格式化日期用的 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"css/back/style.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br></pre></td></tr></table></figure>

    
        <div class="post-more-div">
            <a href="/springboot图书馆前/" class="post-more waves-button">
                Leer más
            </a>
        </div>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/springboot/">springboot</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习/">学习</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-遇到的问题" class="article-card article-type-post" itemprop="blogPost">

    


  
    <h3 class="post-title" itemprop="name">
      <a href="/遇到的问题/">web图书馆管理系统</a>
    </h3>
  




     <div class="post-meta">
        <time class="post-time" title="2019-03-27 22:01:03" datetime="2019-03-27T14:01:03.000Z" itemprop="datePublished">2019-03-27</time>

    </div>

    <div class="post-content" id="post-content" itemprop="postContent">

    
        <p>响应的json数据为一个json数组：</p>
<pre><code>[{id: 2, name: &quot;测试2&quot;, category: {id: 10, name: &quot;测试10&quot;}},…]

0: {id: 2, name: &quot;测试2&quot;, category: {id: 10, name: &quot;测试10&quot;}}
1: {id: 1, name: &quot;测试1&quot;, category: {id: 10, name: &quot;测试10&quot;}}
</code></pre><p>这时，在vue中取数据应该用response.data:</p>
<pre><code>listSearch:function () {
var url = &quot;search?keyword=&quot;+vue.keyword;
axios.post(url).then(function (response) {
vue.beans = response.data;
})
}
</code></pre><hr>
<p><strong>Error creating bean with name ‘entityManagerFactory’ defined in class path resource</strong><br>提示这个错误往往是配置文件<em>application.properties</em>中数据库地址密码等配置有误  </p>
<pre><code>#database
spring.datasource.url=jdbc:mysql://127.0.0.1:3306/library_manage?characterEncoding=UTF-8
spring.datasource.username=root
spring.datasource.password=admin
spring.datasource.driver-class-name=com.mysql.jdbc.Driver
spring.jpa.hibernate.ddl-auto = none
</code></pre><hr>
<p>pojo实体类，service服务类，controller控制器类在springboot里都要加上<strong>相应的注解</strong>程序才能编译。这个初学容易忘加上，会编译出错。  </p>
<p>pojo实体类加上@Entity，并标注对应的表名@Table,在主键id上也有对应的注解</p>
<pre><code>@Entity
@Table(name = &quot;user&quot;)
public class User {
@Id
@GeneratedValue(strategy = GenerationType.IDENTITY)
@Column(name = &quot;id&quot;)
private int id;
private String name;
private String passWord;
</code></pre><p>service类要注解@Service</p>
<pre><code>@Service
public class BookService {
@Autowired
BookDAO bookDAO;
@Autowired CategoryService categoryService;
public void add(Book bean){
    bookDAO.save(bean);
}
public void delete(int id){
    bookDAO.delete(id);
}
public Book get(int id){
    return bookDAO.findOne(id);
}
public void update(Book bean){
    bookDAO.save(bean);
}
</code></pre><p>restful风格的controller要注解为@RestController</p>
<pre><code>@RestController
public class BookController {.....}
</code></pre><hr>
<p>vue中，a标签href添加参数需在href前添加冒号，这样才能将bean.id值转化过来</p>
<pre><code>&lt;a :href=&quot;&apos;admin_book_edit?id=&apos; + bean.id &quot;&gt;
</code></pre><hr>
<p>controller返回例如登录成功等一些消息，目前看最好是以对象的形式返回，返回的对象会自动转换为json对象</p>
<pre><code>//Result类为专门返回登录成功后结果的类
public class Result {
public static int SUCCESS_CODE = 1;
public static int FAIL_CODE =0;
public int code;
public String message;
private Result(int code,String message){
    this.code = code;
    this.message = message;
}
public static Result success(){
    return new Result(SUCCESS_CODE,null);
}
public static Result fail(){
    return new Result(FAIL_CODE,&quot;密码错误&quot;);
}
}

//LoginController代码片段，返回的是对象
    @PostMapping(&quot;/login&quot;)
public Object login(@RequestBody User userParam, HttpSession httpSession){
    User user = userService.get(userParam.getName(),userParam.getPassWord());
    if (user==null){
        return Result.fail();
    } else {
        httpSession.setAttribute(&quot;user&quot;,userParam);
        return Result.success();
    }
}

//login.html中代码片段
                login:function () {
                axios.post(vue.uri,this.user).then(function (response) {
                  vue.result =  response.data  //respose.data即为{code:1,message:&quot;登录成功&quot;}
                    if (vue.result.code ==1){
                        location.href=&quot;admin_category_list&quot;
                    }
                    else{
                        alert(vue.result.message)
                    }
                })
            }
</code></pre><hr>
<p><div>块放错地方，注意vue的工作范围。el：</div></p>

    
        <div class="post-more-div">
            <a href="/遇到的问题/" class="post-more waves-button">
                Leer más
            </a>
        </div>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/springboot/">springboot</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习/">学习</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-springboot图书馆后" class="article-card article-type-post" itemprop="blogPost">

    


  
    <h3 class="post-title" itemprop="name">
      <a href="/springboot图书馆后/">web图书馆管理系统后端</a>
    </h3>
  




     <div class="post-meta">
        <time class="post-time" title="2019-03-27 11:31:03" datetime="2019-03-27T03:31:03.000Z" itemprop="datePublished">2019-03-27</time>

    </div>

    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h2 id="后端部分"><a href="#后端部分" class="headerlink" title="后端部分"></a>后端部分</h2><p>后端部分完全采用springboot的<strong>jpa方式</strong>进行数据库的操作，在接收请求方面采用的是<strong>restful风格</strong>。  </p>
<p>  后端工程目录，如图：</p>
<p>  <img src="https://i.loli.net/2019/03/27/5c9b0f338369a.png" alt="工程目录">  </p>
<p>依次为</p>
<ol>
<li>配置类（仅解决跨域）</li>
<li>DAO类（数据库接口）</li>
<li>异常类（捕捉全局的异常）</li>
<li>实体类</li>
<li>服务类（封装操作数据库(DAO)的方法）</li>
<li>工具类（包含一个分页改进的分页功能和登录页面返回的结果信息类）</li>
<li>控制器类（实现页面跳转，和返回数据）<h3 id="分类管理"><a href="#分类管理" class="headerlink" title="分类管理"></a>分类管理</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/03/28/5c9cae9bca5a0.png" alt="TIM截图20190326102748.png" title>
                </div>
                <div class="image-caption">TIM截图20190326102748.png</div>
            </figure>
<h4 id="分类表格的实现流程如下："><a href="#分类表格的实现流程如下：" class="headerlink" title="分类表格的实现流程如下："></a><strong>分类表格的实现流程如下：</strong></h4><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/03/27/5c9b282306396.png" alt="listCategory.png" title>
                </div>
                <div class="image-caption">listCategory.png</div>
            </figure>
接下来依次叙述springboot一个实现分类目录列表的每一个类：</li>
<li>实体类Category：<br>通过</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table</span>(name = <span class="string">"category"</span>)</span><br><span class="line"><span class="meta">@JsonIgnoreProperties</span>(&#123; <span class="string">"handler"</span>,<span class="string">"hibernateLazyInitializer"</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Category</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY) </span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"id"</span>)	</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    </span><br><span class="line">    String name;</span><br><span class="line">    </span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>数据库接口类</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CategoryDAO</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Category</span>,<span class="title">Integer</span>&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>服务类</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CategoryService</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Autowired</span> CategoryDAO categoryDAO;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Page4Navigator&lt;Book&gt; <span class="title">list</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> size, <span class="keyword">int</span> navigatePages)</span> </span>&#123;</span><br><span class="line">		Sort sort = <span class="keyword">new</span> Sort(Sort.Direction.DESC, <span class="string">"id"</span>);</span><br><span class="line">		Pageable pageable = <span class="keyword">new</span> PageRequest(start, size,sort);</span><br><span class="line">		Page pageFromJPA =categoryDAO.findAll(pageable);  <span class="comment">//categoryDAO.findAll方法返回的结果就是一个page对象。当然是jpa中封装好的方法</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> Page4Navigator&lt;&gt;(pageFromJPA,navigatePages);</span><br><span class="line"><span class="comment">//		return pageFromJPA;</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> List&lt;Category&gt; <span class="title">list</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	Sort sort = <span class="keyword">new</span> Sort(Sort.Direction.DESC, <span class="string">"id"</span>);</span><br><span class="line">		<span class="keyword">return</span> categoryDAO.findAll(sort);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Category bean)</span></span>&#123;</span><br><span class="line">		categoryDAO.save(bean);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">		categoryDAO.delete(id);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> Category <span class="title">get</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">		Category c = categoryDAO.findOne(id);</span><br><span class="line">		<span class="keyword">return</span> c;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(Category c)</span></span>&#123;</span><br><span class="line">		categoryDAO.save(c);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<ol start="4">
<li>controller类</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CategoryController</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Autowired</span> CategoryService categoryService;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@GetMapping</span>(<span class="string">"/categories"</span>)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> Page4Navigator&lt;Book&gt; <span class="title">list</span><span class="params">(@RequestParam(value = <span class="string">"start"</span>, defaultValue = <span class="string">"0"</span>)</span> <span class="keyword">int</span> start, @<span class="title">RequestParam</span><span class="params">(value = <span class="string">"size"</span>, defaultValue = <span class="string">"5"</span>)</span> <span class="keyword">int</span> size) <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		start = start&lt;<span class="number">0</span>?<span class="number">0</span>:start;</span><br><span class="line">		Page4Navigator&lt;Book&gt; page =categoryService.list(start, size, <span class="number">5</span>);  <span class="comment">//5表示导航分页最多有5个，像 [1,2,3,4,5] 这样</span></span><br><span class="line">		<span class="keyword">return</span> page;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@PostMapping</span>(<span class="string">"/categories"</span>)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> Object <span class="title">add</span><span class="params">(@RequestBody Category bean)</span></span>&#123;</span><br><span class="line">		categoryService.add(bean);</span><br><span class="line">		<span class="keyword">return</span> bean;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@DeleteMapping</span>(<span class="string">"/categories/&#123;id&#125;"</span>)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">delete</span><span class="params">(@PathVariable(<span class="string">"id"</span>)</span> <span class="keyword">int</span> id,HttpServletRequest request)</span>&#123;</span><br><span class="line">		categoryService.delete(id);</span><br><span class="line">		File imageFile = <span class="keyword">new</span> File(request.getServletContext().getRealPath(<span class="string">"/img/category"</span>));</span><br><span class="line">		File file = <span class="keyword">new</span> File(imageFile,id+<span class="string">".jpg"</span>);</span><br><span class="line">		file.delete();</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@GetMapping</span>(<span class="string">"/categories/&#123;id&#125;"</span>)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> Category <span class="title">get</span><span class="params">(@PathVariable(<span class="string">"id"</span>)</span> <span class="keyword">int</span> id) <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		Category bean = categoryService.get(id);</span><br><span class="line">		<span class="keyword">return</span> bean;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="meta">@PutMapping</span>(<span class="string">"/categories"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">update</span><span class="params">(@RequestBody Category bean)</span></span>&#123;</span><br><span class="line">	    categoryService.update(bean);</span><br><span class="line">	    <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="分类名称修改流程："><a href="#分类名称修改流程：" class="headerlink" title="分类名称修改流程："></a><strong>分类名称修改流程：</strong></h4><ol>
<li><p>点击修改图标，超链地址为(:href为vue超链写法，可以在链接中加vue对象属性):</p>
<pre><code>&lt;a :href=&quot;&apos;admin_book_list?cid=&apos; + bean.id &quot;&gt;
</code></pre></li>
<li>admin_book_list在adminPagecontroller中跳转到editCategory.html页面</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(value = <span class="string">"/admin_category_edit"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">editCategory</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"admin/editCategory"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><p>editCategory自动执行脚本中的get方法，获得超链问号之后的参数值bean.id即当前修改项的id值，并请求服务器返回当前id值的分类项的名称，放到编辑框中。</p>
</li>
<li><p>修改之后，点击提交按钮，执行update函数，提交请求和修改后的bean给服务器，服务器成功返回信息后，跳转页面至分类页面。</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">"submitTR"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">"2"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"id"</span>   <span class="attr">v-model.trim</span>=<span class="string">"bean.id"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#nowhere"</span> <span class="attr">class</span>=<span class="string">"btn btn-success"</span> @<span class="attr">click</span>=<span class="string">"update"</span>&gt;</span>提 交<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">$(function () &#123;     //$(function()&#123;...&#125;)jquery中表示文档一载入完毕就执行</span><br><span class="line">    var data4Vue=&#123;</span><br><span class="line">        uri:'categories',</span><br><span class="line">        listURL:'admin_category_list',</span><br><span class="line">        bean:&#123;id:0,name:''&#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">    var vue = new Vue(&#123;</span><br><span class="line">        el:'#workingArea',</span><br><span class="line">        data:data4Vue,</span><br><span class="line">        mounted:function()&#123;</span><br><span class="line">            this.get();             //mounted内自动执行</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;    //methods注意s，不是method</span><br><span class="line">            get:function ()&#123;             //get方法请求服务器返回该分类对象</span><br><span class="line">                var id = getUrlParms("id");</span><br><span class="line">                var url = this.uri+"/"+id;</span><br><span class="line">                axios.get(url).then(function (response) &#123;</span><br><span class="line">                    vue.bean = response.data;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;,</span><br><span class="line">            update:function () &#123;</span><br><span class="line">                var id = getUrlParms("id");</span><br><span class="line">                var url = this.uri;</span><br><span class="line">                axios.put(url,vue.bean).then(function (response) &#123;</span><br><span class="line">                    location.href = vue.listURL;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="新增分类项："><a href="#新增分类项：" class="headerlink" title="新增分类项："></a><strong>新增分类项</strong>：</h4><p>新增分类比较简单，比修改简单，直接绑定的按钮执行add函数将请求的地址与bean一起传给服务器，服务器执行成功返回信息时更新列表。但因为整体用的是==restful风格==，因此axios请求插件在修改里用的是==put==方法，增加用的是==post==方法，对应于后端程序中的==PutMapping==和==PostMapping==，这样可以请求一致的url，但后台可以执行不同的方法</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://i.loli.net/2019/03/27/5c9b70a362469.png" alt="TIM截图20190327203922.png" title>
                </div>
                <div class="image-caption">TIM截图20190327203922.png</div>
            </figure>
<h4 id="删除分类项"><a href="#删除分类项" class="headerlink" title="删除分类项"></a><strong>删除分类项</strong></h4><p>跟增加基本无异，但在vue中delete是关键字，在命名delete方法时改成deletebean，并且restful规范删除成功后服务器端要返回null，所以前端进行判断返回的数据是否为null,如果不为空，则打印处数据。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">deleteBean:<span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!checkDeleteLink())</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">var</span> url = <span class="keyword">this</span>.uri+<span class="string">"/"</span>+id;</span><br><span class="line">  axios.delete(url).then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="number">0</span>!=response.data.length) <span class="comment">//rest规范删除数据要求要会返回空字符串（控制器类中delete返回null），所以进行判断</span></span><br><span class="line">          alert(response.data);</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">          vue.list(<span class="number">0</span>); <span class="comment">//是空字符串则调第一页</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="分类下的书籍查询："><a href="#分类下的书籍查询：" class="headerlink" title="分类下的书籍查询："></a>分类下的书籍查询：</h4><ol>
<li>由于书籍和分类时多对一的关系，因此在书籍实体类中要用注解标明，如下在category属性上注解@ManyToOne和JoinColumn(name=”cid”)表示外键cid与category关联：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"id"</span>)</span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@ManyToOne</span></span><br><span class="line">    <span class="meta">@JoinColumn</span>(name = <span class="string">"cid"</span>)</span><br><span class="line">    <span class="keyword">private</span> Category category;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Category <span class="title">getCategory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> category;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCategory</span><span class="params">(Category category)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.category = category;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在DAO接口中写一个通过分类查询的方法，这方法命名规则是定死的，按照命名规则写，在==@AutoWired==生成的DAO对象中自动就有这个方法的具体实现。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BookDAO</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Book</span>,<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">Page&lt;Book&gt; <span class="title">findByCategory</span><span class="params">(Category category, Pageable pageable)</span></span>;</span><br><span class="line">    <span class="comment">//List&lt;Book&gt; findByNameLike(String keyword,Pageable pageable); //这个是后面用到的搜索</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>在service中，bookService.java中，除了增删改查的service方法还要加入一个通过分类名查询的方法。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Page4Navigator&lt;Book&gt; <span class="title">list</span><span class="params">(<span class="keyword">int</span> cid,<span class="keyword">int</span> start,<span class="keyword">int</span> size,<span class="keyword">int</span> navigatePages )</span></span>&#123;</span><br><span class="line">    Category category = categoryService.get(cid); <span class="comment">//获取分类对象</span></span><br><span class="line">    Sort sort = <span class="keyword">new</span> Sort(Sort.Direction.DESC,<span class="string">"id"</span>); <span class="comment">//设置排序方式的对象</span></span><br><span class="line">    Pageable pageable = <span class="keyword">new</span> PageRequest(start,size,sort); <span class="comment">//设置分页的对象</span></span><br><span class="line">    Page&lt;Book&gt; pageFromJPA = bookDAO.findByCategory(category,pageable); <span class="comment">//DAO中通过分类查询到的结果</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Page4Navigator&lt;&gt;(pageFromJPA,navigatePages);<span class="comment">//返回查询的包含分页信息的书籍项</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>最后在bookController中接收页面发来的请求信息，来返回分类查询结果</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/categories/&#123;cid&#125;/books"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Page4Navigator&lt;Book&gt; <span class="title">list</span><span class="params">(@PathVariable(<span class="string">"cid"</span>)</span> <span class="keyword">int</span> cid, @<span class="title">RequestParam</span><span class="params">(value = <span class="string">"start"</span>,defaultValue = <span class="string">"0"</span>)</span><span class="keyword">int</span> start,</span></span><br><span class="line"><span class="function">                                 @<span class="title">RequestParam</span><span class="params">(value = <span class="string">"size"</span>,defaultValue = <span class="string">"5"</span>)</span><span class="keyword">int</span> size)</span>&#123;</span><br><span class="line">    start = start&lt;<span class="number">0</span>?<span class="number">0</span>:start;</span><br><span class="line">    Page4Navigator&lt;Book&gt; page = bookService.list(cid,start,size,<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">return</span> page;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="搜索书籍功能"><a href="#搜索书籍功能" class="headerlink" title="搜索书籍功能"></a>搜索书籍功能</h3><p>搜索书籍功能放在前端的所有书籍页面里面。</p>
<ol>
<li><p>在vue的data属性里定义号关键字keyword:””，并与搜索输入框绑定。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"form-control input-lg col-xs-4"</span> <span class="attr">v-model</span>=<span class="string">"keyword"</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>编写搜索请求函数listSearch，与按钮绑定：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;span @click=<span class="string">"listSearch"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"input-group-addon btn btn-primary"</span>&gt;</span><br><span class="line"></span><br><span class="line">        listSearch:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> url = <span class="string">"search?keyword="</span>+vue.keyword;</span><br><span class="line">            axios.post(url).then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                vue.beans = response.data;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>在bookDAO中添加方法。名字定义方式findByNameLike,传入的参数为关键字，和分页信息</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BookDAO</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Book</span>,<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">//Page&lt;Book&gt; findByCategory(Category category, Pageable pageable);</span></span><br><span class="line">    <span class="function">List&lt;Book&gt; <span class="title">findByNameLike</span><span class="params">(String keyword,Pageable pageable)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>在service中封装该方法</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Book&gt; <span class="title">search</span><span class="params">(String name, <span class="keyword">int</span> start, <span class="keyword">int</span> size)</span></span>&#123;</span><br><span class="line">    Sort sort = <span class="keyword">new</span> Sort(Sort.Direction.DESC,<span class="string">"id"</span>);</span><br><span class="line">    Pageable page = <span class="keyword">new</span> PageRequest(start,size,sort);</span><br><span class="line">    List&lt;Book&gt; books = bookDAO.findByNameLike(<span class="string">"%"</span>+name+<span class="string">"%"</span>,page);<span class="comment">//"%"+name+"%"表模糊查询</span></span><br><span class="line">    <span class="keyword">return</span> books;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="5">
<li><p>在searchController中接收关键字请求信息，返回搜索结果。</p>
<ul>
<li><p>[ ]     <em>searchController可以与bookController合并</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">BookService bookService;</span><br><span class="line"><span class="meta">@PostMapping</span>(<span class="string">"/search"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">search</span><span class="params">(@RequestParam(value = <span class="string">"keyword"</span>)</span> String keyWord)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> bookService.search(keyWord,<span class="number">0</span>,<span class="number">20</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h3 id="登录功能"><a href="#登录功能" class="headerlink" title="登录功能"></a>登录功能</h3><p>登录功能与前面的分类增加功能类似，前端将表单中的信息use.namer和user.password封装一个json数据user，发送给后端，后端通过注解@Requestbody自动将值赋给usr对象，userDAO将这个对象拿进数据库查询看是否在数据库中。判断后返回result对象，判断里面返回的信息是否是查询成功，成功则跳转到分类页面 ，查询结果为null的话则返回失败信息。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">        <span class="comment">//userDAO添加通过用户名和密码查询的方式</span></span><br><span class="line">        <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDAO</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">User</span>,<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">            <span class="function">User <span class="title">getByNameAndPassWord</span><span class="params">(String name,String password)</span></span>;</span><br><span class="line">        &#125;</span><br><span class="line">---</span><br><span class="line">        <span class="comment">//登录页面的login函数请求服务器</span></span><br><span class="line">                login:function () &#123;</span><br><span class="line">                    axios.post(vue.uri,<span class="keyword">this</span>.user).then(function (response) &#123;</span><br><span class="line">                      vue.result =  response.data</span><br><span class="line">                        <span class="keyword">if</span> (vue.result.code ==<span class="number">1</span>)&#123;</span><br><span class="line">                            location.href=<span class="string">"admin_category_list"</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span>&#123;</span><br><span class="line">                            alert(vue.result.message)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在searchController中将传过来的user的name和password进行查询</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    UserService userService;</span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"/login"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">login</span><span class="params">(@RequestBody User userParam, HttpSession httpSession)</span></span>&#123;</span><br><span class="line">        User user = userService.get(userParam.getName(),userParam.getPassWord());</span><br><span class="line">        <span class="keyword">if</span> (user==<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            httpSession.setAttribute(<span class="string">"user"</span>,userParam);</span><br><span class="line">            <span class="keyword">return</span> Result.success();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    
        <div class="post-more-div">
            <a href="/springboot图书馆后/" class="post-more waves-button">
                Leer más
            </a>
        </div>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习/">学习</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-服务器端与android登录注册" class="article-card article-type-post" itemprop="blogPost">

    


  
    <h3 class="post-title" itemprop="name">
      <a href="/服务器端与android登录注册/">Android与服务器端的通信实现登录注册</a>
    </h3>
  




     <div class="post-meta">
        <time class="post-time" title="2019-03-27 11:31:03" datetime="2019-03-27T03:31:03.000Z" itemprop="datePublished">2019-03-27</time>

    </div>

    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h1 id="Android与服务器端的通信实现登录注册"><a href="#Android与服务器端的通信实现登录注册" class="headerlink" title="Android与服务器端的通信实现登录注册"></a>Android与服务器端的通信实现登录注册</h1><h2 id="配置服务器环境"><a href="#配置服务器环境" class="headerlink" title="配置服务器环境"></a>配置服务器环境</h2><p>  首先服务器是搬瓦工的centos6 64位，配置java web环境即配置jdk，安装tomcat以及mysql按照这篇帖子<a href="http://facer.me/572.html" target="_blank" rel="noopener">搬瓦工java环境搭建</a> 注意要删除自带的mysql的两个文件夹。</p>
<h2 id="服务器端代码编写"><a href="#服务器端代码编写" class="headerlink" title="服务器端代码编写"></a>服务器端代码编写</h2><p>  主要写三个方面：</p>
<ul>
<li>数据库</li>
<li>LoginServlet</li>
<li>RegisterServlet<ol>
<li>服务器mysql部分<br>首先在服务器的mysql创建一个命名为zeng<br>再创建一个表，命名为user，用来存储android端注册成功的用户信息<br>记得进行授权：<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//例如，你想root用户使用mypassword从任何主机连接到mysql服务器的话。</span><br><span class="line"><span class="keyword">GRANT</span> ALL <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">'root'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'服务器mysql密码'</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span>;</span><br><span class="line"><span class="keyword">FLUSH</span>   <span class="keyword">PRIVILEGES</span>;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<ol start="2">
<li><p>配置连接数据库的信息,</p>
 <figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> DB_USER = <span class="string">"root"</span>;<span class="comment">//数据库用户名</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> DB_PASSWORD = <span class="string">"******"</span>;<span class="comment">//数据库密码</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> DB_DATABASE = <span class="string">"zeng"</span>;<span class="comment">//数据库名</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> DB_URL = <span class="string">"jdbc:mysql://104.243.30.196:3306/zeng"</span>;<span class="comment">//jdbc地址:服务器ip+数据库名</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> DB_JDBC_MYSQL = <span class="string">"com.mysql.jdbc.Driver"</span>;<span class="comment">//jdbc mysql</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>封装数据库jdbc连接方法，创建表以及增删改查的方法</p>
 <figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> class DBUtils &#123;</span><br><span class="line"><span class="keyword">private</span> Connection connection = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">private</span> Statement statement = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> DBUtils() &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> DBUtils(<span class="keyword">String</span> jdbc, <span class="keyword">String</span> url, <span class="keyword">String</span> user, <span class="keyword">String</span> password) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Class.forName(jdbc);</span><br><span class="line">        connection = DriverManager.getConnection(url, user, password);</span><br><span class="line">        statement = connection.createStatement();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建表</span></span><br><span class="line"><span class="comment"> * @param createSql</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> createTable(<span class="keyword">String</span> createSql) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        statement.execute(createSql);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 插入数据</span></span><br><span class="line"><span class="comment"> * @param table</span></span><br><span class="line"><span class="comment"> * @param columns</span></span><br><span class="line"><span class="comment"> * @param args</span></span><br><span class="line"><span class="comment"> * @return</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> insert(<span class="keyword">String</span> table, <span class="keyword">String</span>[] columns, <span class="keyword">String</span>[] args) &#123;</span><br><span class="line">    <span class="keyword">if</span>(columns != <span class="keyword">null</span> &amp;&amp; columns.length ==  <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(args != <span class="keyword">null</span> &amp;&amp; columns.length != args.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    StringBuilder sql = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    sql.<span class="built_in">append</span>(<span class="string">"INSERT INTO "</span>);</span><br><span class="line">    sql.<span class="built_in">append</span>(table + <span class="string">"("</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; columns.length - <span class="number">1</span>;i++) &#123;</span><br><span class="line">        sql.<span class="built_in">append</span>(columns[i]);</span><br><span class="line">        sql.<span class="built_in">append</span>(<span class="string">","</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    sql.<span class="built_in">append</span>(columns[columns.length - <span class="number">1</span>]);</span><br><span class="line">    sql.<span class="built_in">append</span>(<span class="string">") VALUES("</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; args.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        sql.<span class="built_in">append</span>(<span class="string">"?,"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    sql.<span class="built_in">append</span>(<span class="string">"?)"</span>);</span><br><span class="line">    ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        PreparedStatement preparedStatement = connection.prepareStatement(sql.toString(),Statement.RETURN_GENERATED_KEYS);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= args.length; i++) &#123;</span><br><span class="line">            preparedStatement.setString(i, args[i - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        preparedStatement.executeUpdate();</span><br><span class="line">        rs = preparedStatement.getGeneratedKeys();</span><br><span class="line">        <span class="keyword">if</span> (rs.next()) &#123;</span><br><span class="line">            <span class="keyword">return</span> rs.getInt(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (rs != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建数据库管理类DBMannager，包括创建表，对获取的用户email，密码写入数据库。其中要对数据进行json处理<br>5.</p>
</li>
</ol>

    
        <div class="post-more-div">
            <a href="/服务器端与android登录注册/" class="post-more waves-button">
                Leer más
            </a>
        </div>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习/">学习</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-android备忘录app开发" class="article-card article-type-post" itemprop="blogPost">

    


  
    <h3 class="post-title" itemprop="name">
      <a href="/android备忘录app开发/">Android备忘录开发</a>
    </h3>
  




     <div class="post-meta">
        <time class="post-time" title="2018-10-30 15:31:03" datetime="2018-10-30T07:31:03.000Z" itemprop="datePublished">2018-10-30</time>

    </div>

    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h1 id="android备忘录开发-first-day"><a href="#android备忘录开发-first-day" class="headerlink" title="android备忘录开发 first day"></a>android备忘录开发 first day</h1><h2 id="1-需求分析"><a href="#1-需求分析" class="headerlink" title="1.需求分析"></a>1.需求分析</h2><p>主要用于学生，特别是大学生和研究生经常忘记老师的作业，但他们又不习惯在纸上记录作业。但手机是他们每天必看的，因此设计一款app实现作业记录与提醒并对每科目开放一个聊天室供学习交流。</p>
<h2 id="2-原型设计"><a href="#2-原型设计" class="headerlink" title="2.原型设计"></a>2.原型设计</h2><p>原型设计由mocplus设计<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/界面原型1.png" alt="主界面" title>
                </div>
                <div class="image-caption">主界面</div>
            </figure><br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/编辑界面.png" alt="edit" title>
                </div>
                <div class="image-caption">edit</div>
            </figure></p>
<h2 id="3-表设计"><a href="#3-表设计" class="headerlink" title="3.表设计"></a>3.表设计</h2>
    
        <div class="post-more-div">
            <a href="/android备忘录app开发/" class="post-more waves-button">
                Leer más
            </a>
        </div>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习/">学习</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-android第五天" class="article-card article-type-post" itemprop="blogPost">

    


  
    <h3 class="post-title" itemprop="name">
      <a href="/android第五天/">高级组件</a>
    </h3>
  




     <div class="post-meta">
        <time class="post-time" title="2018-10-29 16:31:03" datetime="2018-10-29T08:31:03.000Z" itemprop="datePublished">2018-10-29</time>

    </div>

    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h2 id="进度条组件"><a href="#进度条组件" class="headerlink" title="进度条组件"></a>进度条组件</h2><ul>
<li>布局文件<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;ProgressBar</span><br><span class="line">    android:id=<span class="string">"@+id/progressBar1"</span></span><br><span class="line">    style=<span class="string">"@android:style/Widget.ProgressBar.Horizontal"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"25dp"</span></span><br><span class="line">    android:layout_alignParentBottom=<span class="string">"true"</span></span><br><span class="line">    android:layout_alignParentLeft=<span class="string">"true"</span></span><br><span class="line">    android:layout_alignParentStart=<span class="string">"true"</span></span><br><span class="line">    android:layout_marginBottom=<span class="string">"60dp"</span></span><br><span class="line">    android:<span class="built_in">max</span>=<span class="string">"100"</span> /&gt;  <span class="comment">//设置最大值</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>样式通过style属性进行设置：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/进度条.png" alt="样式" title>
                </div>
                <div class="image-caption">样式</div>
            </figure></p>
<ul>
<li>java代码<blockquote>
<p>使用handler发送消息来控制进度条完成</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">private</span> ProgressBar horizonP;            <span class="comment">//水平进度条</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mProgressStatus = <span class="number">0</span>;        <span class="comment">//完成进度</span></span><br><span class="line">    <span class="keyword">private</span> Handler mHandler;            <span class="comment">//声明一个用于处理消息的Handler类的对象</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,</span><br><span class="line">                WindowManager.LayoutParams.FLAG_FULLSCREEN); <span class="comment">//设置全屏显示</span></span><br><span class="line">        horizonP = (ProgressBar) findViewById(R.id.progressBar1);    <span class="comment">//获取水平进度条</span></span><br><span class="line">        mHandler = <span class="keyword">new</span> Handler() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (msg.what == <span class="number">0x111</span>) &#123;</span><br><span class="line">                    horizonP.setProgress(mProgressStatus);    <span class="comment">//更新进度</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"耗时操作已经完成"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                    horizonP.setVisibility(View.GONE);    <span class="comment">//设置进度条不显示，并且不占用空间</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">                    mProgressStatus = doWork();    <span class="comment">//获取耗时操作完成的百分比</span></span><br><span class="line">                    Message m = <span class="keyword">new</span> Message();</span><br><span class="line">                    <span class="keyword">if</span> (mProgressStatus &lt; <span class="number">100</span>) &#123;</span><br><span class="line">                        m.what = <span class="number">0x111</span>;</span><br><span class="line">                        mHandler.sendMessage(m);    <span class="comment">//发送信息</span></span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        m.what = <span class="number">0x110</span>;</span><br><span class="line">                        mHandler.sendMessage(m);    <span class="comment">//发送消息</span></span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//模拟一个耗时操作</span></span><br><span class="line">            <span class="keyword">private</span> <span class="function"><span class="keyword">int</span> <span class="title">doWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                mProgressStatus += Math.random() * <span class="number">10</span>;    <span class="comment">//改变完成进度</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">200</span>);        <span class="comment">//线程休眠200毫秒</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> mProgressStatus;    <span class="comment">//返回新的进度</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();    <span class="comment">//开启一个线程</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h2 id="拖动条组件"><a href="#拖动条组件" class="headerlink" title="拖动条组件"></a>拖动条组件</h2><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;SeekBar</span><br><span class="line">    android:id=<span class="string">"@+id/seekbar"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">    android:<span class="built_in">max</span>=<span class="string">"255"</span>   <span class="comment">//最大值</span></span><br><span class="line">    android:progress=<span class="string">"255"</span>  <span class="comment">//默认值</span></span><br><span class="line">    /&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>java代码 实现通过拉动拖动条改变图片透明度：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> ImageView image;          <span class="comment">//定义图片</span></span><br><span class="line">    <span class="keyword">private</span> SeekBar seekBar;          <span class="comment">//定义拖动条</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        image = (ImageView) findViewById(R.id.image);    <span class="comment">//获取图片</span></span><br><span class="line">        seekBar = (SeekBar) findViewById(R.id.seekbar);    <span class="comment">//获取拖动条</span></span><br><span class="line">        <span class="comment">//为拖动条设置监听事件</span></span><br><span class="line">        seekBar.setOnSeekBarChangeListener(<span class="keyword">new</span> SeekBar.OnSeekBarChangeListener() &#123;</span><br><span class="line">            <span class="comment">// 当拖动条的滑块位置发生改变时触发该方法</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onProgressChanged</span><span class="params">(SeekBar arg0, <span class="keyword">int</span> progress,</span></span></span><br><span class="line"><span class="function"><span class="params">                                          <span class="keyword">boolean</span> fromUser)</span> </span>&#123;</span><br><span class="line">                <span class="comment">// 动态改变图片的透明度</span></span><br><span class="line">                image.setImageAlpha(progress);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStartTrackingTouch</span><span class="params">(SeekBar bar)</span> </span>&#123;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStopTrackingTouch</span><span class="params">(SeekBar bar)</span> </span>&#123;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="图像视图"><a href="#图像视图" class="headerlink" title="图像视图"></a>图像视图</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mingrisoft;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.MotionEvent;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.view.WindowManager;</span><br><span class="line"><span class="keyword">import</span> android.view.animation.AnimationUtils;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageSwitcher;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ViewSwitcher;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] arrayPictures = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;R.mipmap.img01, R.mipmap.img02, R.mipmap.img03,</span><br><span class="line">            R.mipmap.img04, R.mipmap.img05, R.mipmap.img06,</span><br><span class="line">            R.mipmap.img07, R.mipmap.img08, R.mipmap.img09,</span><br><span class="line">    &#125;;<span class="comment">// 声明并初始化一个保存要显示图像ID的数组</span></span><br><span class="line">    <span class="keyword">private</span> ImageSwitcher imageSwitcher; <span class="comment">// 声明一个图像切换器对象</span></span><br><span class="line">    <span class="comment">//要显示的图片在图片数组中的Index</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> pictutureIndex;</span><br><span class="line">    <span class="comment">//左右滑动时手指按下的X坐标</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> touchDownX;</span><br><span class="line">    <span class="comment">//左右滑动时手指松开的X坐标</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> touchUpX;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,</span><br><span class="line">                WindowManager.LayoutParams.FLAG_FULLSCREEN);<span class="comment">//设置全屏显示</span></span><br><span class="line"></span><br><span class="line">        imageSwitcher = (ImageSwitcher) findViewById(R.id.imageswitcher); <span class="comment">// 获取图像切换器</span></span><br><span class="line">        <span class="comment">//为ImageSwicher设置Factory，用来为ImageSwicher制造ImageView</span></span><br><span class="line">        imageSwitcher.setFactory(<span class="keyword">new</span> ViewSwitcher.ViewFactory() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> View <span class="title">makeView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                ImageView imageView = <span class="keyword">new</span> ImageView(MainActivity.<span class="keyword">this</span>); <span class="comment">// 实例化一个ImageView类的对象</span></span><br><span class="line">                imageView.setImageResource(arrayPictures[pictutureIndex]);<span class="comment">//根据id加载默认显示图片</span></span><br><span class="line">                <span class="keyword">return</span> imageView; <span class="comment">// 返回imageView对象</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        imageSwitcher.setOnTouchListener(<span class="keyword">new</span> View.OnTouchListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouch</span><span class="params">(View v, MotionEvent event)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (event.getAction() == MotionEvent.ACTION_DOWN) &#123;</span><br><span class="line">                    <span class="comment">//取得左右滑动时手指按下的X坐标</span></span><br><span class="line">                    touchDownX = event.getX();</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.getAction() == MotionEvent.ACTION_UP) &#123;</span><br><span class="line">                    <span class="comment">//取得左右滑动时手指松开的X坐标</span></span><br><span class="line">                    touchUpX = event.getX();</span><br><span class="line">                    <span class="comment">//从左往右，看下一张</span></span><br><span class="line">                    <span class="keyword">if</span> (touchUpX - touchDownX &gt; <span class="number">100</span>) &#123;</span><br><span class="line">                        <span class="comment">//取得当前要看的图片的index</span></span><br><span class="line">                        pictutureIndex = pictutureIndex == <span class="number">0</span> ? arrayPictures.length - <span class="number">1</span> : pictutureIndex - <span class="number">1</span>;</span><br><span class="line">                        <span class="comment">//设置图片切换的动画</span></span><br><span class="line">                        imageSwitcher.setInAnimation(AnimationUtils.loadAnimation(MainActivity.<span class="keyword">this</span>, R.anim.slide_in_left));</span><br><span class="line">                        imageSwitcher.setOutAnimation(AnimationUtils.loadAnimation(MainActivity.<span class="keyword">this</span>, R.anim.slide_out_right));</span><br><span class="line">                        <span class="comment">//设置当前要看的图片</span></span><br><span class="line">                        imageSwitcher.setImageResource(arrayPictures[pictutureIndex]);</span><br><span class="line">                        <span class="comment">//从右往左，看上一张</span></span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (touchDownX - touchUpX &gt; <span class="number">100</span>) &#123;</span><br><span class="line">                        <span class="comment">//取得当前要看的图片index</span></span><br><span class="line">                        pictutureIndex = pictutureIndex == arrayPictures.length - <span class="number">1</span> ? <span class="number">0</span> : pictutureIndex + <span class="number">1</span>;</span><br><span class="line">                        <span class="comment">//设置切换动画</span></span><br><span class="line">                        imageSwitcher.setOutAnimation(AnimationUtils.loadAnimation(MainActivity.<span class="keyword">this</span>, R.anim.slide_out_left));</span><br><span class="line">                        imageSwitcher.setInAnimation(AnimationUtils.loadAnimation(MainActivity.<span class="keyword">this</span>, R.anim.slide_in_right));</span><br><span class="line">                        <span class="comment">//设置要看的图片</span></span><br><span class="line">                        imageSwitcher.setImageResource(arrayPictures[pictutureIndex]);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="图像切换器"><a href="#图像切换器" class="headerlink" title="图像切换器"></a>图像切换器</h2>
    
        <div class="post-more-div">
            <a href="/android第五天/" class="post-more waves-button">
                Leer más
            </a>
        </div>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习/">学习</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-Android第四天" class="article-card article-type-post" itemprop="blogPost">

    


  
    <h3 class="post-title" itemprop="name">
      <a href="/Android第四天/">普通组件</a>
    </h3>
  




     <div class="post-meta">
        <time class="post-time" title="2018-10-28 16:31:03" datetime="2018-10-28T08:31:03.000Z" itemprop="datePublished">2018-10-28</time>

    </div>

    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h2 id="日期选择器"><a href="#日期选择器" class="headerlink" title="日期选择器"></a>日期选择器</h2><p>日期选择器即在需要记录日期的时候弹出日期选择界面，如下图：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/日期选择器.png" alt="日期选择器" title>
                </div>
                <div class="image-caption">日期选择器</div>
            </figure><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">DatePicker</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">DatePicker</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>在java代码中获取所选日期<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">datepicker = (DatePicker)findViewById(R.id.xx)</span><br><span class="line">Calendar calendar = Calendar.getInstance();</span><br><span class="line"></span><br><span class="line"><span class="comment">//下面的定义为给datePicker.init中初始化的值，当前的年月日</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">year</span>=calendar.<span class="built_in">get</span>(Calendar.YEAR);</span><br><span class="line">mouth=calendar.<span class="built_in">get</span>(Calendar.mouth);</span><br><span class="line"><span class="built_in">day</span>=calendar.<span class="built_in">get</span>(Calendar.DAY_OF_MOUTH);</span><br><span class="line"></span><br><span class="line">datePicker.init(<span class="built_in">year</span>,mouth,<span class="built_in">day</span>, <span class="keyword">new</span> DatePicker.OnDatechangedListener()&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> OnDatechanged(DatePicker view,<span class="built_in">int</span> <span class="built_in">year</span>,<span class="built_in">int</span> mouthofyear,<span class="built_in">int</span> <span class="built_in">day</span> of mouth)&#123;</span><br><span class="line">    MainActivity.<span class="keyword">this</span>.<span class="built_in">year</span>=<span class="built_in">year</span>;   <span class="comment">//将监听事件中的年月日的值赋给这个activity中</span></span><br><span class="line">    MainActivity.<span class="keyword">this</span>.<span class="built_in">month</span>=mouthofyear; <span class="comment">//的年月日</span></span><br><span class="line">    MainActivity.<span class="keyword">this</span>.<span class="built_in">day</span>=dayofmouth;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="comment">//定义一个show方法用toast来显示所选年月日</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> show(<span class="built_in">int</span> <span class="built_in">year</span>,<span class="built_in">int</span> mouth,<span class="built_in">int</span> <span class="built_in">day</span>)&#123;</span><br><span class="line">  <span class="keyword">String</span> <span class="built_in">str</span>= <span class="built_in">year</span>+<span class="string">"年"</span>+mouth+<span class="number">1</span>+<span class="string">"月"</span>+<span class="built_in">day</span>+<span class="string">"日"</span>；</span><br><span class="line">  Toast.makeText(MainActivity.<span class="keyword">this</span>,strt,Toast.LENGTH_SHOW).show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="时间选择器"><a href="#时间选择器" class="headerlink" title="时间选择器"></a>时间选择器</h2><p>如图：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/时间选择器.png" alt="时间选择器" title>
                </div>
                <div class="image-caption">时间选择器</div>
            </figure><br><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">&lt;TimePicker</span></span><br><span class="line"><span class="section">    xxxxx</span></span><br><span class="line"><span class="section">&gt;</span><span class="section">&lt;/TimePicker&gt;</span></span><br></pre></td></tr></table></figure></p>

    
        <div class="post-more-div">
            <a href="/Android第四天/" class="post-more waves-button">
                Leer más
            </a>
        </div>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习/">学习</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-android中遇到的坑总结" class="article-card article-type-post" itemprop="blogPost">

    


  
    <h3 class="post-title" itemprop="name">
      <a href="/android中遇到的坑总结/">坑总结</a>
    </h3>
  




     <div class="post-meta">
        <time class="post-time" title="2018-10-28 15:31:03" datetime="2018-10-28T07:31:03.000Z" itemprop="datePublished">2018-10-28</time>

    </div>

    <div class="post-content" id="post-content" itemprop="postContent">

    
        <ol>
<li>在fragment中，findviewbyid及组件监听事件要写在onactivitycreated方法中，不然会报空指针异常。</li>
</ol>

    
        <div class="post-more-div">
            <a href="/android中遇到的坑总结/" class="post-more waves-button">
                Leer más
            </a>
        </div>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习/">学习</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-j2ee第一天" class="article-card article-type-post" itemprop="blogPost">

    


  
    <h3 class="post-title" itemprop="name">
      <a href="/j2ee第一天/">Tomcat服务器在eclipse中的配置</a>
    </h3>
  




     <div class="post-meta">
        <time class="post-time" title="2018-10-27 21:31:03" datetime="2018-10-27T13:31:03.000Z" itemprop="datePublished">2018-10-27</time>

    </div>

    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h2 id="Tomcat服务器在eclipse中的配置"><a href="#Tomcat服务器在eclipse中的配置" class="headerlink" title="Tomcat服务器在eclipse中的配置"></a>Tomcat服务器在eclipse中的配置</h2><ol>
<li>new-&gt;other-&gt;Dynamic Web Project</li>
<li>选择Tomcat服务器<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/fuwuqi.png" alt="t" title>
                </div>
                <div class="image-caption">t</div>
            </figure></li>
<li>工程目录如下：<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/工程目录.png" alt="t" title>
                </div>
                <div class="image-caption">t</div>
            </figure></li>
<li>在web-inf目录中创建web.xml，web-inf中的lib文件夹中存放需要用到的jar库，如servlet-api.jar等。</li>
</ol>

    
        <div class="post-more-div">
            <a href="/j2ee第一天/" class="post-more waves-button">
                Leer más
            </a>
        </div>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/j2ee/">j2ee</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习/">学习</a></li></ul>

    </div>
    
</article>

        </li>
    
    </ul>

    
<nav id="page-nav">
    <div class="inner">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
    </div>
</nav>


</div>

        <footer class="footer">
    <div class="footer-content">
        <span class="power">
            <i class="icon icon-lg icon-copyright"></i>
            2017
            <i class="icon icon-lg icon-heart"></i>
            <a href="https://www.miaomiaomiao.info">tomotoes.com</a>
            <br>
            Power by
            <a href="https://hexo.io/" target="_blank" rel="external nofollow">Hexo</a>&nbsp;·&nbsp;
            Theme
            <a class="tomotoeslink" href="https://github.com/tomotoes/hexo-theme-tomotoes/" target="_blank" rel="external nofollow">tomotoes</a>
        </span>

        <br>

        <span id="RunTime" style="color:#a7a7a2;"></span>
        <br>

        <span>
            
	<i class="icon icon-lg icon-user">
<span id="busuanzi_container_site_uv" style="display:none">
       访问用户：<span id="busuanzi_value_site_uv"></span>
    </span>人</i>
    ·
    <i class="icon icon-lg icon-eye">
    <span id="busuanzi_container_site_pv" style="display:none">
      访问次数：<span id="busuanzi_value_site_pv"></span>
    </span>次
    </i>


        </span>
        <br>

        <span class="license">Este blog está licenciado bajo una <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">licencia internacional Creative Commons Attribution 4.0</a>.</span>
    </div>
</footer>

    </main>
    
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>


    <!-- waves按钮特效 -->
<script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>

<!-- 主题配置脚本 -->
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };
</script>

<!-- jquery -->
<script src="/js/jquery.min.js?v=3.0"></script>

<!-- 搜索 -->

<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item waves-block waves-effect" onclick="location.href='{path}'">
    <div class="title ellipsis" title="{title}">{title}</div>
</li>
</template>


<!-- main博客脚本 -->
<script src="/js/main.min.js?v=3.0"></script>

<!-- 动画&配置 -->
<script src="/js/script.min.js?v=3.0"></script>

<!-- 脚本管理 -->
<script>

if(window.innerWidth > 800){
	/* 3D标题 */
	$(".content-header").on("mousemove", threedee);

	/* 底部追随鼠标 */
	$(".footer").hover(2);

	/* gotop键的涟漪 */
	$("#gotop").hover(1);

	/* 赞赏的粒子雨 */
	$("#reward").hover(3);

	/* 微信公众号的底部渲染 */
	$("#wechat").hover(4);

    /* 标题跳动 */
    $(".archivestitle").bumpyText();

	/* 图片点击放大 */
	const postimg = jQuery(".post-content img:not(.github-emoji)");
	postimg.on("click",function(){

		mask.classList.add("in");
		main.classList.add("Mask");
		menu.classList.add("Mask");
		var myimg = this.cloneNode(true);
		myimg.classList.add("imgShow");

		setTimeout(function(){
			jQuery(myimg).animate({
				opacity:"1"
			},1000);
		},0);

		document.body.appendChild(myimg);

		myimg.onclick=function(){
			document.body.removeChild(myimg);
			mask.classList.remove("in");
			main.classList.remove("Mask");
			menu.classList.remove("Mask");
		};

	});

}

/* 名字跳动 */
$("#name").bumpyText();


/* 网站运行时间 */
setInterval(function () {
	setTime("2017/10/11");
}, 1000);

/* 文章块的淡出 */
postshow();

/* 座右铭 */

   getHitokoto();



/* 粘贴提示 */
G($(".post-content"), location.href, "zeng yang");


/* 控制台 */
if (window.console && window.console.log) {
	setTimeout(function () {
		console.log("\n %c 一个坏掉的番茄 %c  © Simon Ma  http://tomotoes.com \n\n", "color:#FFFFFB;background:#1abc9c;padding:5px 0;border-radius:.5rem 0 0 .5rem;", "color:#FFFFFB;background:#080808;padding:5px 0;border-radius:0 .5rem .5rem 0;");
	}, 0);
}

</script>




<!-- 公式渲染 -->



<!-- 不蒜子 -->

<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


</body>
</html>
